/*! pace 1.0.0 */(function(){var B,X,U,R,Q,F,K,N,q,a,M,L,D,J,I,k,H,d,s,t,A,l,n,P,y,z,f,Y,e,b,r,x,G,j,C,u,c,g,w,i,o,v,p,m,S,T,E,Z,W,h=[].slice,V={}.hasOwnProperty,O=function(a,b){function d(){this.constructor=a}for(var c in b)V.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},_=[].indexOf||function(b){for(var a=0,c=this.length;c>a;a++)if(a in this&&this[a]===b)return a;return-1};for(A={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},e=function(){var a;return null!=(a="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?a:+new Date},r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,t=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==r&&(r=function(a){return setTimeout(a,50)},t=function(a){return clearTimeout(a)}),G=function(c){var a,b;return a=e(),(b=function(){var d;return d=e()-a,d>=33?(a=e(),c(d,function(){return r(b)})):setTimeout(b,33-d)})()},x=function(){var c,b,a;return a=arguments[0],b=arguments[1],c=3<=arguments.length?h.call(arguments,2):[],"function"==typeof a[b]?a[b].apply(a,c):a[b]},l=function(){var a,b,d,f,c,e,g;for(b=arguments[0],f=2<=arguments.length?h.call(arguments,1):[],e=0,g=f.length;g>e;e++)if(d=f[e])for(a in d)V.call(d,a)&&(c=d[a],null!=b[a]&&"object"==typeof b[a]&&null!=c&&"object"==typeof c?l(b[a],c):b[a]=c);return b},H=function(d){var b,c,e,a,f;for(c=b=0,a=0,f=d.length;f>a;a++)e=d[a],c+=Math.abs(e),b++;return c/b},P=function(a,b){var c,d,e;if(null==a&&(a="options"),null==b&&(b=!0),e=document.querySelector("[data-pace-"+a+"]")){if(c=e.getAttribute("data-pace-"+a),!b)return c;try{return JSON.parse(c)}catch(a){return d=a,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",d):void 0}}},K=function(){function a(){}return a.prototype.on=function(a,d,e,b){var c;return null==b&&(b=!1),null==this.bindings&&(this.bindings={}),null==(c=this.bindings)[a]&&(c[a]=[]),this.bindings[a].push({handler:d,ctx:e,once:b})},a.prototype.once=function(a,b,c){return this.on(a,b,c,!0)},a.prototype.off=function(a,d){var b,e,c;if(null!=(null!=(e=this.bindings)?e[a]:void 0)){if(null==d)return delete this.bindings[a];for(b=0,c=[];b<this.bindings[a].length;)c.push(this.bindings[a][b].handler===d?this.bindings[a].splice(b,1):b++);return c}},a.prototype.trigger=function(){var f,d,a,g,b,i,j,c,e;if(a=arguments[0],f=2<=arguments.length?h.call(arguments,1):[],null!=(j=this.bindings)?j[a]:void 0){for(b=0,e=[];b<this.bindings[a].length;)c=this.bindings[a][b],g=c.handler,d=c.ctx,i=c.once,g.apply(null!=d?d:this,f),e.push(i?this.bindings[a].splice(b,1):b++);return e}},a}(),a=window.Pace||{},window.Pace=a,l(a,K.prototype),b=a.options=l({},A,window.paceOptions,P()),E=["ajax","document","eventLag","elements"],p=0,S=E.length;S>p;p++)c=E[p],b[c]===!0&&(b[c]=A[c]);q=function(b){function a(){return Z=a.__super__.constructor.apply(this,arguments)}return O(a,b),a}(Error),X=function(){function a(){this.progress=0}return a.prototype.getElement=function(){var a;if(null==this.el){if(a=document.querySelector(b.target),!a)throw new q;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=a.firstChild?a.insertBefore(this.el,a.firstChild):a.appendChild(this.el)}return this.el},a.prototype.finish=function(){var a;return a=this.getElement(),a.className=a.className.replace("pace-active",""),a.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},a.prototype.update=function(a){return this.progress=a,this.render()},a.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(a){q=a}return this.el=void 0},a.prototype.render=function(){var a,f,c,g,d,h,e;if(null==document.querySelector(b.target))return!1;for(a=this.getElement(),g="translate3d("+this.progress+"%, 0, 0)",e=["webkitTransform","msTransform","transform"],d=0,h=e.length;h>d;d++)f=e[d],a.children[0].style[f]=g;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(a.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?c="99":(c=this.progress<10?"0":"",c+=0|this.progress),a.children[0].setAttribute("data-progress",""+c)),this.lastRenderedProgress=this.progress},a.prototype.done=function(){return this.progress>=100},a}(),N=function(){function a(){this.bindings={}}return a.prototype.trigger=function(f,g){var d,a,e,c,b;if(null!=this.bindings[f]){for(c=this.bindings[f],b=[],a=0,e=c.length;e>a;a++)d=c[a],b.push(d.call(this,g));return b}},a.prototype.on=function(a,c){var b;return null==(b=this.bindings)[a]&&(b[a]=[]),this.bindings[a].push(c)},a}(),v=window.XMLHttpRequest,o=window.XDomainRequest,i=window.WebSocket,n=function(d,e){var f,a,b,c;c=[];for(a in e.prototype)try{b=e.prototype[a],c.push(null==d[a]&&"function"!=typeof b?d[a]=b:void 0)}catch(a){f=a}return c},f=[],a.ignore=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?h.call(arguments,1):[],f.unshift("ignore"),c=b.apply(null,a),f.shift(),c},a.track=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?h.call(arguments,1):[],f.unshift("track"),c=b.apply(null,a),f.shift(),c},u=function(a){var c;if(null==a&&(a="GET"),"track"===f[0])return"force";if(!f.length&&b.ajax){if("socket"===a&&b.ajax.trackWebSockets)return!0;if(c=a.toUpperCase(),_.call(b.ajax.trackMethods,c)>=0)return!0}return!1},M=function(c){function a(){var c,d=this;a.__super__.constructor.apply(this,arguments),c=function(a){var b;return b=a.open,a.open=function(c,e){return u(c)&&d.trigger("request",{type:c,url:e,request:a}),b.apply(a,arguments)}},window.XMLHttpRequest=function(b){var a;return a=new v(b),c(a),a};try{n(window.XMLHttpRequest,v)}catch(a){}if(null!=o){window.XDomainRequest=function(){var a;return a=new o,c(a),a};try{n(window.XDomainRequest,o)}catch(a){}}if(null!=i&&b.ajax.trackWebSockets){window.WebSocket=function(a,b){var c;return c=null!=b?new i(a,b):new i(a),u("socket")&&d.trigger("request",{type:"socket",url:a,protocols:b,request:c}),c};try{n(window.WebSocket,i)}catch(a){}}}return O(a,c),a}(N),m=null,y=function(){return null==m&&(m=new M),m},C=function(e){var a,c,f,d;for(d=b.ajax.ignoreURLs,c=0,f=d.length;f>c;c++)if(a=d[c],"string"==typeof a){if(-1!==e.indexOf(a))return!0}else if(a.test(e))return!0;return!1},y().on("request",function(e){var d,h,f,g,i;return g=e.type,f=e.request,i=e.url,C(i)?void 0:a.running||b.restartOnRequestAfter===!1&&"force"!==u(g)?void 0:(h=arguments,d=b.restartOnRequestAfter||0,"boolean"==typeof d&&(d=0),setTimeout(function(){var k,b,i,j,d,e;if(k="socket"===g?f.readyState<2:0<(j=f.readyState)&&4>j){for(a.restart(),d=a.sources,e=[],b=0,i=d.length;i>b;b++){if(c=d[b],c instanceof B){c.watch.apply(c,h);break}e.push(void 0)}return e}},d))}),B=function(){function a(){var a=this;this.elements=[],y().on("request",function(){return a.watch.apply(a,arguments)})}return a.prototype.watch=function(a){var b,c,d,e;return d=a.type,b=a.request,e=a.url,C(e)?void 0:(c="socket"===d?new J(b):new I(b),this.elements.push(c))},a}(),I=function(){function a(a){var g,h,c,f,d,e,b=this;if(this.progress=0,null!=window.ProgressEvent)for(h=null,a.addEventListener("progress",function(a){return b.progress=a.lengthComputable?100*a.loaded/a.total:b.progress+(100-b.progress)/2},!1),e=["load","abort","timeout","error"],c=0,f=e.length;f>c;c++)g=e[c],a.addEventListener(g,function(){return b.progress=100},!1);else d=a.onreadystatechange,a.onreadystatechange=function(){var c;return 0===(c=a.readyState)||4===c?b.progress=100:3===a.readyState&&(b.progress=50),"function"==typeof d?d.apply(null,arguments):void 0}}return a}(),J=function(){function a(e){var c,a,d,b,f=this;for(this.progress=0,b=["error","open"],a=0,d=b.length;d>a;a++)c=b[a],e.addEventListener(c,function(){return f.progress=100},!1)}return a}(),R=function(){function a(a){var d,b,e,c;for(null==a&&(a={}),this.elements=[],null==a.selectors&&(a.selectors=[]),c=a.selectors,b=0,e=c.length;e>b;b++)d=c[b],this.elements.push(new Q(d))}return a}(),Q=function(){function a(a){this.selector=a,this.progress=0,this.check()}return a.prototype.check=function(){var a=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return a.check()},b.elements.checkInterval)},a.prototype.done=function(){return this.progress=100},a}(),U=function(){function a(){var a,c,b=this;this.progress=null!=(c=this.states[document.readyState])?c:100,a=document.onreadystatechange,document.onreadystatechange=function(){return null!=b.states[document.readyState]&&(b.progress=b.states[document.readyState]),"function"==typeof a?a.apply(null,arguments):void 0}}return a.prototype.states={loading:0,interactive:50,complete:100},a}(),F=function(){function a(){var c,f,d,g,a,h=this;this.progress=0,c=0,a=[],g=0,d=e(),f=setInterval(function(){var i;return i=e()-d-50,d=e(),a.push(i),a.length>b.eventLag.sampleCount&&a.shift(),c=H(a),++g>=b.eventLag.minSamples&&c<b.eventLag.lagThreshold?(h.progress=100,clearInterval(f)):h.progress=100*(3/(c+3))},50)}return a}(),D=function(){function a(a){this.source=a,this.last=this.sinceLastUpdate=0,this.rate=b.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=x(this.source,"progress"))}return a.prototype.tick=function(c,a){var d;return null==a&&(a=x(this.source,"progress")),a>=100&&(this.done=!0),a===this.last?this.sinceLastUpdate+=c:(this.sinceLastUpdate&&(this.rate=(a-this.last)/this.sinceLastUpdate),this.catchup=(a-this.progress)/b.catchupTime,this.sinceLastUpdate=0,this.last=a),a>this.progress&&(this.progress+=this.catchup*c),d=1-Math.pow(this.progress/100,b.easeFactor),this.progress+=d*this.rate*c,this.progress=Math.min(this.lastProgress+b.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},a}(),g=null,j=null,d=null,w=null,k=null,s=null,a.running=!1,z=function(){return b.restartOnPushState?a.restart():void 0},null!=window.history.pushState&&(T=window.history.pushState,window.history.pushState=function(){return z(),T.apply(window.history,arguments)}),null!=window.history.replaceState&&(W=window.history.replaceState,window.history.replaceState=function(){return z(),W.apply(window.history,arguments)}),L={ajax:B,elements:R,document:U,eventLag:F},(Y=function(){var e,f,h,l,m,i,n,k;for(a.sources=g=[],i=["ajax","elements","document","eventLag"],f=0,l=i.length;l>f;f++)e=i[f],b[e]!==!1&&g.push(new L[e](b[e]));for(k=null!=(n=b.extraSources)?n:[],h=0,m=k.length;m>h;h++)c=k[h],g.push(new c(b));return a.bar=d=new X,j=[],w=new D})(),a.stop=function(){return a.trigger("stop"),a.running=!1,d.destroy(),s=!0,null!=k&&("function"==typeof t&&t(k),k=null),Y()},a.restart=function(){return a.trigger("restart"),a.stop(),a.start()},a.go=function(){var f;return a.running=!0,d.render(),f=e(),s=!1,k=G(function(u,A){var x,r,m,v,o,h,i,B,k,l,n,q,p,z,y,t;for(B=100-d.progress,r=n=0,m=!0,h=q=0,z=g.length;z>q;h=++q)for(c=g[h],l=null!=j[h]?j[h]:j[h]=[],o=null!=(t=c.elements)?t:[c],i=p=0,y=o.length;y>p;i=++p)v=o[i],k=null!=l[i]?l[i]:l[i]=new D(v),m&=k.done,k.done||(r++,n+=k.tick(u));return x=n/r,d.update(w.tick(u,x)),d.done()||m||s?(d.update(100),a.trigger("done"),setTimeout(function(){return d.finish(),a.running=!1,a.trigger("hide")},Math.max(b.ghostTime,Math.max(b.minTime-(e()-f),0)))):A()})},a.start=function(c){l(b,c),a.running=!0;try{d.render()}catch(a){q=a}return document.querySelector(".pace")?(a.trigger("start"),a.go()):setTimeout(a.start,50)},"function"==typeof define&&define.amd?define(function(){return a}):"object"==typeof exports?module.exports=a:b.startOnPageLoad&&a.start()}).call(this)